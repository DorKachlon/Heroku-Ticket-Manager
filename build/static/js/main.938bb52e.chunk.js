(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){e.exports=a(134)},106:function(e,t,a){},108:function(e,t,a){},126:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),i=(a(106),a(12)),o=a.n(i),s=a(31),u=a(22),d=(a(108),a(14)),m=a.n(d),p=a(35),f=a.n(p),k=a(47),h=a(177),v=a(178),g=a(175),E=a(179),b=a(44),y=a(182),O=a(190),x=a(185),w=a(192),j=a(80),C=a.n(j),N=a(75);a(126);function T(e){var t=e.ticketsArray,a=e.restore,n=e.valueOfNav,c=function(){var e,a=0,n=Object(N.a)(t);try{for(n.s();!(e=n.n()).done;){e.value.hide&&a++}}catch(r){n.e(r)}finally{n.f()}return a},l="Showing ".concat(t.length," results ");return r.a.createElement("div",null,l,4!==n&&r.a.createElement(r.a.Fragment,null,0!==c()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"("),r.a.createElement("span",{id:"hideTicketsCounter"},c()),r.a.createElement("span",null," hidden tickets - "),r.a.createElement("button",{id:"restoreHideTickets",onClick:function(){return a()}},"restore"),r.a.createElement("span",null,")"))))}var S=a(59),A=a(172),F=a(10),B=Object(A.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(S.a)(Object(S.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},textField:{color:"black",width:"auto",padding:"0px",borderRadius:"5px",minWidth:"200px",backgroundColor:Object(F.c)(e.palette.common.white,.15),transition:e.transitions.create("width"),"&:hover":{backgroundColor:Object(F.c)(e.palette.common.white,.25)},"& .MuiOutlinedInput-root":{"& fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"},"&:hover fieldset":{border:"none"}}}}})),M=a(3),D=a(81),H=a.n(D),I=a(184);function P(e){var t=e.loadTicketsArrayForSearch,a=e.open,c=e.handleDrawerOpen,l=e.valueOfNav,i=e.ticketsArray,o=e.restore,s=e.setValueOfNav,d=Object(n.useState)("searchText"),m=Object(u.a)(d,2),p=m[0],f=m[1];console.log("render header");var j=B();return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null),r.a.createElement(h.a,{position:"fixed",className:Object(M.a)(j.appBar,Object(k.a)({},j.appBarShift,a))},r.a.createElement(v.a,null,r.a.createElement(E.a,{color:"inherit","aria-label":"open drawer",onClick:c,edge:"start",className:Object(M.a)(j.menuButton,a&&j.hide)},r.a.createElement(C.a,null)),r.a.createElement(b.a,{variant:"h6",noWrap:!0,style:{width:"380px",display:"flex"}},"Tickets Manager -",r.a.createElement("div",{id:"titlePartOfNav"}," ",function(){var e="";switch(l){case 1:e="All tickets";break;case 2:e="Done Tickets";break;case 3:e="Undone Tickets";break;case 4:e="Hide Tickets";break;case 5:e="Trash";break;case 6:e="All tickets";break;default:e="All tickets"}return e}())),r.a.createElement(T,{ticketsArray:i,restore:o,valueOfNav:l}),r.a.createElement(w.a,{style:{marginLeft:"auto",color:"white",marginRight:"1.5em"},variant:"outlined",placeholder:"Search\u2026",className:j.textField,color:"black",id:"searchInput",onKeyUp:function(e){s(1),t(e.target.value,p)},InputProps:{startAdornment:r.a.createElement(I.a,{position:"start"},r.a.createElement(H.a,null))}}),r.a.createElement(y.a,{variant:"outlined",className:j.formControl},r.a.createElement(O.a,{value:p,onChange:function(e){f(e.target.value)},style:{padding:"0 0.5em"},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},r.a.createElement(x.a,{value:"searchText"},"Title"),r.a.createElement(x.a,{value:"searchContent"},"Content"),r.a.createElement(x.a,{value:"Email"},"E-mail"))))))}var U=a(17),V=a(193),L=a(183),R=a(186),W=a(136),Y=a(187),z=a(188),J=a(54),G=a.n(J),K=a(85),$=a.n(K),q=a(84),Q=a.n(q),X=a(56),Z=a.n(X),_=a(82),ee=a.n(_),te=a(83),ae=a.n(te),ne=a(55),re=a.n(ne);function ce(e){var t=e.handleDrawerClose,a=e.open,n=e.valueOfNav,c=e.setValueOfNav;console.log("render side");var l=B(),i=Object(U.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{className:l.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:l.drawerPaper}},r.a.createElement("div",{className:l.drawerHeader},r.a.createElement(E.a,{onClick:t},"ltr"===i.direction?r.a.createElement(ee.a,null):r.a.createElement(ae.a,null))),r.a.createElement(L.a,null,r.a.createElement(R.a,null),r.a.createElement(W.a,{button:!0,key:"All Tickets",style:1===n||6===n?{backgroundColor:"#3F51B5",color:"white"}:{},onClick:function(){return c(1)}},r.a.createElement(Y.a,null,r.a.createElement(Q.a,{style:1===n?{color:"white"}:{}})),r.a.createElement(z.a,{primary:"All Tickets"})),r.a.createElement(R.a,null),r.a.createElement(W.a,{button:!0,key:"Done Tickets",style:2===n?{backgroundColor:"#3F51B5",color:"white"}:{},onClick:function(){return c(2)}},r.a.createElement(Y.a,null,r.a.createElement(G.a,{style:2===n?{color:"white"}:{}})),r.a.createElement(z.a,{primary:"Done Tickets"})),r.a.createElement(R.a,null),r.a.createElement(W.a,{button:!0,key:"Undone Tickets",style:3===n?{backgroundColor:"#3F51B5",color:"white"}:{},onClick:function(){return c(3)}},r.a.createElement(Y.a,null,r.a.createElement($.a,{style:3===n?{color:"white"}:{}})),r.a.createElement(z.a,{primary:"Undone Tickets"})),r.a.createElement(R.a,null),r.a.createElement(W.a,{button:!0,key:"Hide Tickets",style:4===n?{backgroundColor:"#3F51B5",color:"white"}:{},onClick:function(){return c(4)}},r.a.createElement(Y.a,null,r.a.createElement(re.a,{style:4===n?{color:"white"}:{}})),r.a.createElement(z.a,{primary:"Hide Tickets"})),r.a.createElement(R.a,null),r.a.createElement(W.a,{button:!0,key:"Trash",style:5===n?{backgroundColor:"#3F51B5",color:"white"}:{},onClick:function(){return c(5)}},r.a.createElement(Y.a,null,r.a.createElement(Z.a,{style:5===n?{color:"white"}:{}})),r.a.createElement(z.a,{primary:"Trash"})),r.a.createElement(R.a,null))))}function le(e){var t=e.loadTicketsArrayForSearch,a=e.ticketsArray,c=e.restore,l=e.valueOfNav,i=e.setValueOfNav,o=Object(n.useState)(!1),s=Object(u.a)(o,2),d=s[0],m=s[1];console.log("render header side");var p=Object(n.useCallback)((function(){m(!0)}),[]),f=Object(n.useCallback)((function(){m(!1)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{loadTicketsArrayForSearch:t,open:d,handleDrawerOpen:p,valueOfNav:l,setValueOfNav:i,ticketsArray:a,restore:c}),r.a.createElement(ce,{handleDrawerClose:f,open:d,valueOfNav:l,setValueOfNav:i}))}var ie=a(135),oe=a(195),se=a(87),ue=a.n(se),de=a(88),me=a.n(de),pe=a(86),fe=a.n(pe);function ke(e){return e<10&&(e="0".concat(e)),e}a(133);function he(e){var t=e.ticket,a=e.loadTicketsArray;console.log("render ticket");var n=function(){var e=Object(s.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("/api/tickets/".concat(t,"/").concat(n));case 3:a(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),f.a.fire({icon:"error",title:"Oops...",text:"".concat(e.t0.message)});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),c=function(){var e=Object(s.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("/api/tickets/".concat(t,"/").concat(n));case 3:a(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),f.a.fire({icon:"error",title:"Oops...",text:"".concat(e.t0.message)});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("/api/tickets/".concat(t,"/hide"));case 3:a(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),f.a.fire({icon:"error",title:"Oops...",text:"".concat(e.t0.message)});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"ticket"},r.a.createElement(ie.a,{elevation:3,style:t.done?{backgroundColor:"rgb(144, 204, 117)"}:{}},r.a.createElement("div",{className:"headerTicket"},r.a.createElement("div",{className:"title"}," ",t.title),r.a.createElement(oe.a,{className:"hideTicketButton",style:{margin:"5px 5px 0px auto",fontWeight:"bolder",textTransform:"none"},variant:"outlined",icon:r.a.createElement(re.a,null),label:"HIDE",clickable:!0,onClick:function(){l(t.id)}})),r.a.createElement("div",{className:"content"},r.a.createElement(fe.a,{style:{color:"blue"},text:t.content,min:500,ideal:500,max:1e4,readMoreText:"see more"})),r.a.createElement("div",{className:"footerTicket"},r.a.createElement("div",{className:"email"},r.a.createElement("span",{style:{marginRight:"0.5em"}},"by"),t.userEmail),r.a.createElement("div",{className:"date"},function(e){var t=new Date(e),a=ke(t.getMinutes()),n=t.getHours(),r="PM";n>12?(n-=12,r="PM"):n<12&&(r="AM");var c=ke(t.getSeconds()),l=t,i=String(l.getDate()).padStart(2,"0"),o=String(l.getMonth()+1).padStart(2,"0"),s=l.getFullYear();return l="".concat(i,"/").concat(o,"/").concat(s),"".concat(l,", ").concat(n,":").concat(a,":").concat(c," ").concat(r)}(t.creationTime)),t.labels&&r.a.createElement("div",{className:"labels"},t.labels.map((function(e){return r.a.createElement(oe.a,{className:"label",label:e,style:{margin:"5px"}})})))),r.a.createElement("div",{className:"footerButton",style:t.delete?{backgroundColor:"rgba(211, 109, 109, 0.84)"}:{}},t.done?r.a.createElement(E.a,{onClick:function(){return n(t.id,"undone")}},r.a.createElement(ue.a,{style:{color:"red"}})):r.a.createElement(E.a,{onClick:function(){return n(t.id,"done")}},r.a.createElement(G.a,{style:{color:"green"}})),t.delete?r.a.createElement(E.a,{onClick:function(){return c(t.id,"undelete")}},r.a.createElement(me.a,{style:{color:"green"}})):r.a.createElement(E.a,{onClick:function(){return c(t.id,"delete")}},r.a.createElement(Z.a,{style:{color:"red"}})))))}var ve=a(89),ge=a(189);function Ee(e){var t=e.ticketsArray,a=e.loadTicketsArray,c=e.valueOfNav;console.log("render ticket Container");var l=Object(n.useState)([]),i=Object(u.a)(l,2),o=i[0],s=i[1],d=Object(n.useState)(!0),m=Object(u.a)(d,2),p=m[0],f=m[1],k=Object(n.useState)(20),h=Object(u.a)(k,2),v=h[0],g=h[1];Object(n.useEffect)((function(){t.length>0?(s(t.slice(0,v)),t.slice(0,20).length===t.length?f(!1):f(!0)):(s([]),f(!1))}),[t]),Object(n.useEffect)((function(){g(20)}),[c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{dataLength:o.length,next:function(){o.length!==t.length?setTimeout((function(){s((function(e){return t.slice(0,e.length+20)})),g((function(e){return e+20}))}),1500):f(!1)},hasMore:p,loader:r.a.createElement("div",{style:{position:"relative",height:"50px",display:"flex",justifyContent:"center"}},r.a.createElement(ge.a,null)),endMessage:r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,"Yay! You have seen it all"))},o.map((function(e){return(4===c||!e.hide)&&r.a.createElement(he,{key:e.id,ticket:e,loadTicketsArray:a})}))))}var be=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(1),i=Object(u.a)(l,2),d=i[0],p=i[1],k=B();console.log("render app");var h=Object(n.useCallback)(function(){var e=Object(s.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/api/tickets?".concat(a,"=").concat(encodeURIComponent(t)));case 3:n=e.sent,r=n.data,c(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f.a.fire({icon:"error",title:"Oops...",text:"".concat(e.t0.message)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),[]),v=Object(n.useCallback)(Object(s.a)(o.a.mark((function e(){var t,a,n,r,l,i,s,u,p,k,h,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=d,e.next=1===e.t0?4:2===e.t0?10:3===e.t0?16:4===e.t0?22:5===e.t0?28:34;break;case 4:return e.next=6,m.a.get("/api/tickets");case 6:return t=e.sent,a=t.data,c(a.filter((function(e){return!e.delete}))),e.abrupt("break",40);case 10:return e.next=12,m.a.get("/api/tickets/done");case 12:return n=e.sent,r=n.data,c(r.filter((function(e){return!e.delete}))),e.abrupt("break",40);case 16:return e.next=18,m.a.get("/api/tickets/undone");case 18:return l=e.sent,i=l.data,c(i.filter((function(e){return!e.delete}))),e.abrupt("break",40);case 22:return e.next=24,m.a.get("/api/tickets/hided");case 24:return s=e.sent,u=s.data,c(u.filter((function(e){return!e.delete}))),e.abrupt("break",40);case 28:return e.next=30,m.a.get("/api/tickets/deleted");case 30:return p=e.sent,k=p.data,c(k),e.abrupt("break",40);case 34:return e.next=36,m.a.get("/api/tickets");case 36:return h=e.sent,v=h.data,c(v),e.abrupt("break",40);case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(0),f.a.fire({icon:"error",title:"Oops...",text:"".concat(e.t1.message)});case 45:case"end":return e.stop()}}),e,null,[[0,42]])}))),[d]);Object(n.useEffect)((function(){v()}),[v]);var g=Object(n.useCallback)(Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/api/tickets/UnHideAll");case 2:v();case 3:case"end":return e.stop()}}),e)}))),[v]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:k.root},r.a.createElement(le,{loadTicketsArrayForSearch:h,ticketsArray:a,restore:g,valueOfNav:d,setValueOfNav:p})),r.a.createElement("div",{style:{height:"60px"}}),r.a.createElement(Ee,{ticketsArray:a,loadTicketsArray:v,valueOfNav:d}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[101,1,2]]]);
//# sourceMappingURL=main.938bb52e.chunk.js.map